<html>
  <head>
    <title>Web Master</title>
    <style>
      h1 {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <h1>Web Master</h1>
    <input id="search-bar" placeholder="Search">
    <button onclick="search()">âŒ•</button><br><br>
    <h3>Search Results</h3>
    <ul id="search-results"></ul>

    <!--Scripts below-->
    <script type="importmap">
      {
        "imports": {
          "@google/generative-ai": "https://esm.run/@google/generative-ai"
        }
      }
    </script>
    <script type="module">
      import { GoogleGenerativeAI } from "@google/generative-ai";

      // Fetch your API_KEY
      const API_KEY = "AIzaSyAPmxTfZDIekGCyubKBwXHYCAdcMuLLMnQ";

      // Access your API key (see "Set up your API key" above)
      const genAI = new GoogleGenerativeAI(API_KEY);

      // ...

      const model = genAI.getGenerativeModel({ model: "gemini-pro"});

      // ...
      async function run(fr) {
        // For text-only input, use the gemini-pro model
        const model = genAI.getGenerativeModel({ model: "gemini-pro"});

        const prompt = fr

        const result = await model.generateContent(prompt);
        const response = await result.response;
        const text = response.text();
        alert(text);
      }

      run("What is a tree made out of?")
      let database = [
        "siddles",
        "kid",
        "spinach",
        "siddles grandma"
      ]

      function search(){
        let searchQuery = document.getElementById("search-bar").value;
        let searchResults = document.getElementById("search-results");

        //Look though all of the database to see what search results match
        for(let i=0; i<database.length; i++){
          if(database[i].split(searchQuery)[0] != database[i]){
            searchResults.innerHTML += "<li>"+database[i]+"</li>"
          }
        }
      }
    </script>
  </body>
</html>
